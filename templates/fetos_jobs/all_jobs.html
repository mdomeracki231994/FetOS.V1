{% extends 'auth_base.html' %}

{% block content %}
    <!-- Include Alpine.js -->
    <script src="//unpkg.com/alpinejs" defer></script>

    <div x-data="jobData()" class="flex justify-center p-4">
        <!-- Left Column: Job Details -->
        <div class="w-3/4 p-4">
            <div class="flex flex-col items-center justify-center gap-4">
                {% for job in all_current_fet_os_jobs %}
                    <div @click="selectJob({
                        title: '{{ job.title }}',
                        producer: { name: '{{ job.producer.name }}' },
                        categories: '{{ job.categories }}',
                        job_date_time: '{{ job.job_date_time }}',
                        level_of_nudity: '{{ job.level_of_nudity }}',
                        pay_structure: '{{ job.pay_structure }}',
                        travel_options: '{{ job.travel_options }}',
                        travel_stipend_amount: '{{ job.travel_stipend_amount }}',
                        number_of_talent_needed: '{{ job.number_of_talent_needed }}',
                        sex_needed: '{{ job.sex_needed }}',
                        job_description: '{{ job.job_description }}',
                        model_options: '{{ job.model_options }}'
                    })" class="w-full rounded overflow-hidden shadow-lg bg-white p-6 border border-gray-300 mb-4 cursor-pointer">
                        <div class="mb-4">
                            <h2 class="text-2xl font-bold mb-2">{{ job.title }}</h2>
                            <p class="text-gray-700 mb-2"><strong>Producer:</strong> {{ job.producer.name }}</p>
                            <p class="text-gray-700 mb-2"><strong>Categories:</strong> {{ job.categories }}</p>
                            <p class="text-gray-700 mb-2"><strong>Job Date & Time:</strong> {{ job.job_date_time }}</p>
                            <p class="text-gray-700 mb-2"><strong>Level of Nudity:</strong> {{ job.level_of_nudity }}</p>
                            <p class="text-gray-700 mb-2"><strong>Pay Structure:</strong> {{ job.pay_structure }}</p>
                            <p class="text-gray-700 mb-2"><strong>Travel Options:</strong> {{ job.travel_options }}</p>
                            <p class="text-gray-700 mb-2"><strong>Travel Stipend Amount:</strong> ${{ job.travel_stipend_amount }}</p>
                            <p class="text-gray-700 mb-2"><strong>Number of Talent Needed:</strong> {{ job.number_of_talent_needed }}</p>
                        </div>
                        <div class="px-6 pt-4 pb-2 flex justify-end">
                            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                                Apply Now
                            </button>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Right Column: Selected Job Details -->
        <div class="w-1/4 bg-white p-4 border border-gray-300 rounded shadow-lg" x-show="selectedJob" x-cloak>
            <template x-if="selectedJob">
                <div>
                    <h2 class="text-2xl font-bold mb-2" x-text="selectedJob.title"></h2>
                    <p class="text-gray-700 mb-2"><strong>Producer:</strong> <span x-text="selectedJob.producer.name"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Categories:</strong> <span x-text="selectedJob.categories"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Job Date & Time:</strong> <span x-text="selectedJob.job_date_time"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Level of Nudity:</strong> <span x-text="selectedJob.level_of_nudity"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Pay Structure:</strong> <span x-text="selectedJob.pay_structure"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Travel Options:</strong> <span x-text="selectedJob.travel_options"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Travel Stipend Amount:</strong> $<span x-text="selectedJob.travel_stipend_amount"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Number of Talent Needed:</strong> <span x-text="selectedJob.number_of_talent_needed"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Sex Needed:</strong> <span x-text="selectedJob.sex_needed"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Job Description:</strong> <span x-text="selectedJob.job_description"></span></p>
                    <p class="text-gray-700 mb-2"><strong>Model Options:</strong> <span x-text="selectedJob.model_options"></span></p>
                </div>
            </template>
        </div>
    </div>

    <script>
        function jobData() {
            return {
                selectedJob: null,
                selectJob(job) {
                    this.selectedJob = job;
                }
            }
        }
    </script>
{% endblock %}
